# 서버 시스템

서버는 네트워크를 통해 클라이언트에게 서비스를 제공하는 컴퓨터 시스템입니다. 중요 데이터와 서비스를 호스팅하므로 보안이 매우 중요합니다.

---

## DB 서버 (Database Server)

### 주요 DBMS

**관계형 데이터베이스**
- Oracle
- MySQL / MariaDB
- PostgreSQL
- MS SQL Server

**NoSQL 데이터베이스**
- MongoDB (문서형)
- Redis (키-값)
- Cassandra (컬럼형)

### DB 보안 위협

- SQL Injection 공격
- 권한 상승
- 데이터 유출
- 백업 파일 탈취

### DB 보안 대책

#### 접근 제어

- 최소 권한 원칙 적용
- 역할 기반 접근 제어 (RBAC)
- IP 기반 접근 제한
- 애플리케이션 계정과 관리자 계정 분리

#### 데이터 보호

- **TDE (Transparent Data Encryption)**: 저장 데이터 암호화
- 컬럼 레벨 암호화 (중요 정보)
- 전송 구간 암호화 (TLS)
- 데이터 마스킹

#### 감사 및 모니터링

- DB 감사 로그 활성화
- 쿼리 로깅
- 이상 행위 탐지
- 정기적 취약점 점검

---

## DNS 서버 (Domain Name System)

### DNS 보안 위협

| 공격 유형 | 설명 |
|----------|------|
| DNS 캐시 포이즈닝 | 잘못된 DNS 응답 주입 |
| DNS 스푸핑 | 위조된 DNS 응답 |
| DNS 증폭 공격 | DDoS에 악용 |
| DNS 터널링 | 데이터 유출에 악용 |

### DNS 보안 대책

- **DNSSEC**: DNS 응답 디지털 서명으로 무결성 보장
- Source Port Randomization
- Response Rate Limiting (RRL)
- 재귀 쿼리 제한
- 최신 패치 유지

### 주요 DNS 서버 소프트웨어

- BIND (가장 널리 사용)
- Microsoft DNS
- PowerDNS
- Unbound

---

## E-mail 서버

### 이메일 프로토콜

| 프로토콜 | 포트 | 용도 |
|---------|------|------|
| SMTP | 25, 587 | 메일 전송 |
| POP3 | 110, 995(SSL) | 메일 수신 (다운로드) |
| IMAP | 143, 993(SSL) | 메일 수신 (동기화) |

### 이메일 보안 위협

- 스팸/피싱 메일
- 악성 첨부파일
- 메일 스푸핑
- 중간자 공격 (도청)

### 이메일 보안 대책

#### 발신자 인증 기술

**SPF (Sender Policy Framework)**
- 발신 서버 IP를 DNS TXT 레코드로 검증
- 스푸핑 방지

**DKIM (DomainKeys Identified Mail)**
- 메일에 디지털 서명 추가
- 메일 변조 탐지

**DMARC (Domain-based Message Authentication)**
- SPF/DKIM 정책 및 리포팅
- 인증 실패 시 처리 방법 지정

#### 콘텐츠 보안

- 스팸 필터링
- 악성코드 검사
- 첨부파일 유형 제한
- URL 검사

#### 전송 보안

- STARTTLS (전송 암호화)
- S/MIME 또는 PGP (종단간 암호화)

---

## WEB/WAS 서버

### 웹 서버 vs WAS

| 구분 | 웹 서버 | WAS |
|------|--------|-----|
| 역할 | 정적 콘텐츠 제공 | 동적 콘텐츠/비즈니스 로직 |
| 예시 | Apache, Nginx, IIS | Tomcat, WebLogic, JBoss |

### 웹 보안 위협 (OWASP Top 10)

1. **Injection** - SQL, Command Injection
2. **Broken Authentication** - 인증 결함
3. **Sensitive Data Exposure** - 민감 데이터 노출
4. **XML External Entities (XXE)**
5. **Broken Access Control** - 접근 제어 결함
6. **Security Misconfiguration** - 보안 설정 오류
7. **Cross-Site Scripting (XSS)**
8. **Insecure Deserialization** - 안전하지 않은 역직렬화
9. **Using Components with Known Vulnerabilities**
10. **Insufficient Logging & Monitoring**

### 웹 서버 보안 대책

#### HTTPS 적용

- TLS 1.2 이상 사용
- 강력한 암호화 스위트
- HSTS 헤더 적용
- 인증서 관리

#### 보안 헤더

```http
X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1; mode=block
Content-Security-Policy: default-src 'self'
Strict-Transport-Security: max-age=31536000
```

#### 서버 설정

- 디렉토리 리스팅 비활성화
- 서버 버전 정보 숨김
- 불필요한 HTTP 메서드 비활성화 (PUT, DELETE, TRACE)
- 에러 페이지 커스터마이징

---

## 파일 서버

### 파일 공유 프로토콜

| 프로토콜 | 설명 |
|---------|------|
| SMB/CIFS | Windows 파일 공유 |
| NFS | Unix/Linux 파일 공유 |
| FTP/SFTP | 파일 전송 |

### 파일 서버 보안 대책

- 공유 폴더 최소화
- 접근 권한 세분화
- SMBv1 비활성화 (EternalBlue 취약점)
- 감사 로깅 활성화
- 랜섬웨어 대응 (백업, 스냅샷)

---

## 클라우드 서버

### 클라우드 서비스 모델

| 모델 | 설명 | 예시 |
|------|------|------|
| IaaS | 인프라 제공 | AWS EC2, Azure VM |
| PaaS | 플랫폼 제공 | Heroku, App Engine |
| SaaS | 소프트웨어 제공 | Office 365, Salesforce |

### 공동 책임 모델

| 구분 | IaaS | PaaS | SaaS |
|------|------|------|------|
| 데이터 | 고객 | 고객 | 고객 |
| 애플리케이션 | 고객 | 공동 | CSP |
| OS | 고객 | CSP | CSP |
| 인프라 | CSP | CSP | CSP |

### 클라우드 보안 대책

- IAM 정책 최소 권한
- MFA 필수 적용
- 데이터 암호화 (저장/전송)
- VPC/보안 그룹 설정
- 로깅 및 모니터링 (CloudTrail, CloudWatch)
- 정기적 보안 감사

---

## 보안제품 서버

### 주요 보안 솔루션 서버

- 방화벽 관리 서버
- IDS/IPS 관리 콘솔
- SIEM 서버
- 백신 중앙 관리 서버
- NAC 서버
- DLP 관리 서버

### 보안제품 서버 보안

- 별도 관리 네트워크 분리
- 강력한 인증 (MFA)
- 관리 접근 IP 제한
- 정기적 업데이트
- 이중화 구성

---

## 핵심 키워드

`서버 보안` `DB 보안` `TDE` `DNS` `DNSSEC` `이메일 보안` `SPF` `DKIM` `DMARC` `웹 보안` `OWASP` `클라우드` `공동 책임 모델`
